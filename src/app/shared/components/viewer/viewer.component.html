<ng-container *ngIf="selectedPageId">
  <app-page [page]="pages[selectedPageId]">
    <app-block [item]="blocks[blockId]" *ngFor="let blockId of pages[selectedPageId].blockIds">
      <ng-template #widgetTemplate let-widgetId>
        <app-widget (afterClicked)="afterClicked(widgetId)" [widget]="widgets[widgetId]"></app-widget>
      </ng-template>
    </app-block>
  </app-page>
</ng-container>
